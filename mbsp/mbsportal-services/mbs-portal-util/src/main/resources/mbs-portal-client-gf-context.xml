<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:gfe="http://www.springframework.org/schema/gemfire"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="
	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
	 http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
	http://www.springframework.org/schema/gemfire http://www.springframework.org/schema/gemfire/spring-gemfire.xsd
	http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

	<context:annotation-config />

	<!-- Client Cache -->
	<gfe:client-cache id="mta-client-cache" pool-name="mta-pool"
		pdx-read-serialized="false" pdx-serializer-ref="pdxAutoSerializer"
		properties-ref="gemfireProperties" />
	<util:properties id="gemfireProperties"
		location="classpath:\${gemfire.custom.properties}" />

	<bean id="pdxAutoSerializer" class="org.apache.geode.pdx.ReflectionBasedAutoSerializer" depends-on="epvConnector">
		<property name="serializableClasses">
			<util:list value-type="java.lang.String">
				<value>com.fanniemae.mbsportal.model.*</value>
				<value>com.fanniemae.mbsportal.id.*</value>
<!-- 				<value>com.fanniemae.mbsportal.gf.pojo.*</value> -->
				<value>com.fanniemae.mbsportal.po.*</value>
				<value>com.fanniemae.mbsportal.api.po.*</value>
				<value>com.fanniemae.securitiesods.ods_core.domain.*</value>
				<value>com.fanniemae.fnmpfj.gemfire.utils.client.identity.Sequence#identity=name
				</value>
			</util:list>
		</property>
	</bean>

	<!-- Connection Pool -->
	<gfe:pool id="mta-pool" subscription-enabled="true"
		subscription-redundancy="-1" min-connections="1" read-timeout="300000"
		server-group="">
		<gfe:locator host="${gemfire.locator.host1}" port="${gemfire.locator.port}" />
		<gfe:locator host="${gemfire.locator.host2}" port="${gemfire.locator.port}" />
	</gfe:pool>

	<gfe:client-region id="FNMPFJSequences" shortcut="PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache" />

	<gfe:client-region id="MBSProduct" shortcut="CACHING_PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache">
		<gfe:region-ttl timeout="${gemfire.cache.ttl.seconds}" />
	</gfe:client-region>

	<gfe:client-region id="MBSTransaction" shortcut="PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache" />

	<gfe:client-region id="MBSProductPricing" shortcut="CACHING_PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache">
		<gfe:region-ttl timeout="${gemfire.cache.ttl.seconds}" />
	</gfe:client-region>

	<gfe:client-region id="MBSTrade" shortcut="PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache" />
	<gfe:client-region id="MBSPConfigProp" shortcut="PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache" />

	<gfe:client-region id="MBSProfile" shortcut="CACHING_PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache">
		<gfe:region-ttl timeout="${gemfire.cache.profile.ttl.seconds}" />
	</gfe:client-region>

	<gfe:client-region id="MBSParty" shortcut="CACHING_PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache">
		<gfe:region-ttl timeout="${gemfire.cache.party.ttl.seconds}" />
		<gfe:regex-interest pattern=".*" receive-values="true" />
	</gfe:client-region>

	<gfe:client-region id="MBSExceptionLookup" shortcut="CACHING_PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache">
		<gfe:region-ttl timeout="${gemfire.cache.ttl.seconds}" />
	</gfe:client-region>

	<gfe:client-region id="MBSEvent" shortcut="CACHING_PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache">
		<gfe:region-ttl timeout="5" />
		<!-- <gfe:key-interest durable="false" result-policy="KEYS_VALUES"> <bean 
			id="key" class="java.lang.String"> <constructor-arg value="someKey" /> </bean> 
			</gfe:key-interest> -->
		<gfe:regex-interest pattern=".*" receive-values="true" />
	</gfe:client-region>

	<gfe:client-region id="MBSMarketIndicativePrice"
		shortcut="CACHING_PROXY" pool-name="mta-pool" cache-ref="mta-client-cache">
		<gfe:region-ttl timeout="${gemfire.cache.ttl.seconds}" />
		<!-- <gfe:key-interest durable="false" result-policy="KEYS_VALUES"> <bean 
			id="key" class="java.lang.String"> <constructor-arg value="someKey" /> </bean> 
			</gfe:key-interest> -->
		 <gfe:regex-interest pattern=".*" receive-values="true" />
	</gfe:client-region>

	<gfe:client-region id="MBSMarketIndicativePriceHistory"
		shortcut="CACHING_PROXY" pool-name="mta-pool" cache-ref="mta-client-cache">
		<gfe:region-ttl timeout="${gemfire.cache.ttl.seconds}" />
	</gfe:client-region>
	
	<gfe:client-region id="MBSProductTransactionXref" shortcut="PROXY"
		pool-name="mta-pool" cache-ref="mta-client-cache">
	</gfe:client-region>

	<!--<gfe:function-service> <gfe:function> <class-name>com.fanniemae.mbsportal.gf.functions.MBSQueryFunction</class-name> 
		</gfe:function> </gfe:function-service> -->
	<!-- <import resource="classpath:message-context.xml" /> -->

</beans>